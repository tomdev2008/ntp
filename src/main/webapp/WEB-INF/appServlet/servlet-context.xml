<?xml version="1.0" encoding="UTF-8"?><beans xmlns="http://www.springframework.org/schema/beans"	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"	xmlns:mvc="http://www.springframework.org/schema/mvc"	xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd		http://www.springframework.org/schema/context 		http://www.springframework.org/schema/context/spring-context-3.1.xsd		http://www.directwebremoting.org/schema/spring-dwr          http://www.directwebremoting.org/schema/spring-dwr-3.0.xsd">            <context:annotation-config /> 		<!-- 自动扫描且只扫描@Controller -->	<context:component-scan base-package="cn.me.xdf"		use-default-filters="false">		<context:include-filter type="annotation"			expression="org.springframework.stereotype.Controller"/>	</context:component-scan>	<bean id="multipartResolver"		class="org.springframework.web.multipart.commons.CommonsMultipartResolver">		<property name="defaultEncoding" value="utf-8"></property>		<property name="maxUploadSize" value="10485760000"></property>	</bean>	<bean id="webBindingInitializer" class="cn.me.xdf.common.web.springmvc.BindingInitializer"></bean>		<bean id="messageSource"		class="org.springframework.context.support.ResourceBundleMessageSource">		<property name="basenames">			<list>				<value>properties.front</value>				<value>properties.admin</value>			</list>		</property>		<property name="useCodeAsDefaultMessage" value="true" />	</bean>	<mvc:interceptors>		<bean class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor" />	</mvc:interceptors>	<bean id="localeResolver"		class="org.springframework.web.servlet.i18n.SessionLocaleResolver" />	<!-- DispatcherServlet Context: defines this servlet's request-processing 		infrastructure -->	<mvc:annotation-driven>		<!-- form -->		<mvc:argument-resolvers>			<!-- <beans:bean class="cn.me.xdf.common.web.springmvc.FormModelMethodArgumentResolver"></beans:bean> -->			<bean class="cn.me.xdf.common.web.springmvc.FormBeanArgumentResolver">				<property name="webBindingInitializer" ref="webBindingInitializer"></property>			</bean>            <bean class="cn.me.xdf.common.web.springmvc.RequestJsonParamMethodArgumentResolver"></bean>		</mvc:argument-resolvers>		<mvc:message-converters>			<!-- download -->			<bean class="cn.me.xdf.common.download.DownloadHttpMessageConverter" />			<!-- json -->			<bean				class="org.springframework.http.converter.json.MappingJacksonHttpMessageConverter">				<property name="supportedMediaTypes">					<value>text/html;charset=UTF-8</value>				</property>			</bean>		</mvc:message-converters>	</mvc:annotation-driven>	<!-- 将无法mapping到Controller的path交给default servlet handler处理 -->	<mvc:default-servlet-handler />	<!-- Handles HTTP GET requests for /resources/** by efficiently serving 		up static resources in the ${webappRoot}/resources directory -->	<mvc:resources mapping="/resources/**" location="/resources/" />	<!-- Resolves views selected for rendering by @Controllers to .jsp resources 		in the /WEB-INF/views directory -->	<!-- -->	<bean		class="org.springframework.web.servlet.view.InternalResourceViewResolver">		<property name="prefix" value="/WEB-INF/views/" />		<property name="suffix" value=".jsp" />	</bean>	<bean		class="org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator"		depends-on="lifecycleBeanPostProcessor">		<property name="proxyTargetClass" value="true" />	</bean>	<bean		class="org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor">		<property name="securityManager" ref="securityManager" />	</bean>	<bean		class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">		<property name="exceptionMappings">			<props>				<!-- <prop key="org.springframework.validation.BindException">error/400</prop> -->				<prop key="org.apache.shiro.authz.UnauthorizedException">error/403</prop>			</props>		</property>	</bean></beans>