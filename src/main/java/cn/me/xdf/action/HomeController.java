package cn.me.xdf.action;import java.util.List;import java.util.Locale;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import cn.me.xdf.model.organization.RoleEnum;import cn.me.xdf.model.organization.SysOrgPerson;import cn.me.xdf.model.organization.UserRole;import cn.me.xdf.service.AccountService;import cn.me.xdf.service.UserRoleService;import cn.me.xdf.utils.ShiroUtils;/** * Handles requests for the application home page. */@Controllerpublic class HomeController {	//	@Autowired//	private NotifyService notifyService;		@Autowired	private AccountService accountService;	@Autowired	private UserRoleService userRoleService;	@RequestMapping(value = "/successPage", method = RequestMethod.GET)	public String init(Locale locale, Model model) {		List<UserRole> userRole = userRoleService.findUserRoles(ShiroUtils				.getUser().getId());		if (userRole != null) {			if (ShiroUtils.getUserHightRole(userRole) == RoleEnum.trainee&&!"admin".equals(ShiroUtils.getUser().getName())) {				// 非正式员工				return "redirect:/trainee/welcome";			}			// 正式员工			return "redirect:/dashboard";		} else {			return "redirect:/dashboard";// 应该到没有权限		}	}	@RequestMapping(value = "/", method = RequestMethod.GET)	public String getUrl (Model model){		if(ShiroUtils.getUser() != null){			String uid = ShiroUtils.getUser().getId();			SysOrgPerson person = accountService.load(uid);			String fdIcoUrl = person.getPoto();			model.addAttribute("fdIcoUrl",fdIcoUrl);					}		return "/index";	}}